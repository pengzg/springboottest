<common-navigater data="[{name:'业务员'},{name:'业务员行程线路分析'}]"></common-navigater>
<div class="xt_changeHtml" style="padding: 5px;">
	<table width="100%">
		<tbody >
			<tr>
				<td class="shrink transition-none" oldwidth="339" oldheight="791">
					<a id="shrinkBtn" class="shrinkBtn" style="cursor: pointer; display: inline;"></a>
					<div style="width: 339px;" class="shrinkBody">
						<div class="panel panel-default" style="position: relative; z-index: 4;">
							<div class="panel-heading">
								查询条件
								<!--<span class="blue2 p10left" style="cursor: pointer">查询模版</span>-->
							</div>
							<div class="panel-body" style="height: 649px; padding: 10px; overflow-y: auto; overflow-x: hidden; box-sizing: border-box;">
								<div class="t-input-group clearfix" style=" margin-left: 0;">
									<div class="floatLeft">
										<span class="input-group-addon date_check_main" style="width: 50px; height: 39px; line-height: 26px;" tabindex="0" onblur="dateRangeUtil.hideDateSelect()" ng-click="dateRange.chooseDate($event)"> 日期 </span> 
										<input id="start_date" type="text" class="Wdate" style="width: 103px; height: 27px; border-top-left-radius: 0; border-bottom-left-radius: 0;"
										onFocus="WdatePicker({onpicked: function (dp) { angular.element(this).scope().changeDate(); },dateFmt:'yyyy-MM-dd',lang:'zh-cn'})"
										ng-model="vo.startdate"/>
									</div>
									<div class="floatLeft">
										<input id="end_date" type="text" class="Wdate"
											style="width: 104px; height: 27px; margin-left: 8px; border-top-left-radius: 0; border-bottom-left-radius: 0;"
											onFocus="WdatePicker({onpicked: function (dp) { angular.element(this).scope().changeDate(); },dateFmt:'yyyy-MM-dd',lang:'zh-cn'})" 
											ng-model="vo.enddate"/>
									</div>
								</div>
								<div class="input-group mtop10 clearfix" style=" width: 100%; margin-left: 0;">
									<span class="input-group-addon" style="width: 80px; height: 50px; line-height: 35px;">客户大类</span>
									<div class="SelectMulti-Container" style="width: 189px; height: 50px">
											<div class="SelectMulti-ShowDiv"   ng-click="queryCsBigSmallCategory(1)">
												<span style="padding-left:10px" ng-repeat="x in arrCsCg1">{{x.cc_name}}
													<img src="../../img/shanchu.png" style="height: 14px; width:14px" ng-click="deleteInput(2,x.cc_name)"/>
												</span>
											</div>
											<div class="droplistWrap" style="width: 190px; top: 49px; left: -1px;">
												<div class="droplist" >
													<span class="listItem" ng-repeat="x in csCategoryList">
														<label style="margin-bottom: 0;"><input type="checkbox" name="csCgStatus" cc_id="{{x.cc_id}}" cc_name="{{x.cc_name}}" 
														 ng-checked=x.checkecdCg1 ng-click="addCsCategory(1)"></label>
														{{x.cc_name}}
													</span>
												</div>
											</div>
									</div>
									<div class="input-group-addon" style="cursor: pointer; width: 40px; height: 50px;"><img src="../../img/shanchu.png"  ng-click="deleteInput(1)" style=" margin-top: 10px"/></div>
								</div>
								<div class="input-group mtop10 clearfix" style=" width: 100%; margin-left: 0;">
									<span class="input-group-addon" style="width: 80px; height: 50px; line-height: 35px;">客户小类</span>
									<div class="SelectMulti-Container" style="width: 189px; height: 50px">
										<div class="SelectMulti-ShowDiv"  ng-click="queryCsBigSmallCategory(2)">
											<span style="padding-left:10px" ng-repeat="x in arrCsCg">{{x.cc_name}}
												<img src="../../img/shanchu.png" style="height: 14px; width:14px" ng-click="deleteInput(4,x.cc_name)"/>
											</span>
										</div>
										<div class="droplistWrap" style="width: 190px; top: 49px; left: -1px;">
											<div class="droplist" >
												<span  ng-repeat="x in csCategoryList">
													<span class="listItem"  ng-repeat="y in x.subList">
														<label style="margin-bottom: 0;"><input type="checkbox" name="csCgStatus" cc_id="{{y.cc_id}}" cc_name="{{y.cc_name}}" 
														 ng-checked=y.checkecdCg ng-click="addCsCategory(2)"></label>
														{{y.cc_name}}
													</span>
												</span>
											</div>
										</div>
									</div>
									<div class="input-group-addon" style="cursor: pointer; width: 40px; height: 50px;"><img src="../../img/shanchu.png"  ng-click="deleteInput(3)" style=" margin-top: 10px"/></div>
								</div>
								<div class="input-group mtop10 clearfix" style=" width: 100%; margin-left: 0;">
									<span class="input-group-addon" style="width: 80px; height: 50px; line-height: 35px;">渠道大类</span>
									<div class="SelectMulti-Container" style="width: 189px; height: 50px">
											<div class="SelectMulti-ShowDiv" ng-click="queryQdBigSmallCategory(1)">
												<span style="padding-left:10px" ng-repeat="x in arrQdCg1">{{x.cct_name}}
													<img src="../../img/shanchu.png" style="height: 14px; width:14px" ng-click="deleteInput(6,x.cct_name)"/>
												</span>
											</div>
											<div class="droplistWrap" style="width: 190px; top: 49px; left: -1px;">
												<div class="droplist" >
													<span class="listItem" ng-repeat="x in qdCategoryList">
														<label style="margin-bottom: 0;"><input type="checkbox" name="qdCgStatus" cct_id="{{x.cct_id}}" cct_name="{{x.cct_name}}" ng-checked=x.checkecdCg1 ng-click="addQdCategory(1)"></label>
														{{x.cct_name}}
													</span>
												</div>
											</div>
										</div>
									<div class="input-group-addon" style="cursor: pointer; width: 40px; height: 50px;"><img src="../../img/shanchu.png"  ng-click="deleteInput(5)" style=" margin-top: 10px"/></div>
								</div>
								<div class="input-group mtop10 clearfix" style=" width: 100%; margin-left: 0;">
									<span class="input-group-addon" style="width: 80px; height: 50px; line-height: 35px;">渠道小类</span>
									<div class="SelectMulti-Container" style="width: 189px; height: 50px">
										<div class="SelectMulti-ShowDiv" ng-click="queryQdBigSmallCategory(2)" >
											<span style="padding-left:10px" ng-repeat="x in arrQdCg">{{x.cct_name}}
												<img src="../../img/shanchu.png" style="height: 14px; width:14px" ng-click="deleteInput(8,x.cct_name)"/>
											</span>
										</div>
										<div class="droplistWrap" style="width: 190px; top: 49px; left: -1px;">
											<div class="droplist" >
												<span ng-repeat="x in qdCategoryList">
													<span class="listItem" ng-repeat="y in x.subList">
														<label style="margin-bottom: 0;"><input type="checkbox" name="qdCgStatus" cct_id="{{y.cct_id}}" cct_name="{{y.cct_name}}" ng-checked=y.checkecdCg ng-click="addQdCategory(2)"></label>
														{{y.cct_name}}
													</span>
												</span>
											</div>
										</div>
									</div>
									<div class="input-group-addon" style="cursor: pointer; width: 40px; height: 50px;"><img src="../../img/shanchu.png"  ng-click="deleteInput(7)" style=" margin-top: 10px"/></div>
								</div>
								<div class="input-group mtop10 clearfix" style=" width: 100%; margin-left: 0;">
									<span class="input-group-addon" style="width: 80px; height: 50px; line-height: 35px;">客户</span>
									<div class="SelectMulti-Container" style="width: 189px; height: 50px"  ng-click="selectCustomer()">
										<div class="SelectMulti-ShowDiv">
											<span style="padding-left:10px" ng-repeat="x in arrCs">{{x.cc_name}}
											</span>
										</div>
									</div>
									<div class="input-group-addon" style="cursor: pointer; width: 40px; height: 50px;"><img src="../../img/shanchu.png"  ng-click="deleteInput(9)" style=" margin-top: 10px"/></div>
								</div>
								<div class="input-group mtop10 clearfix" style=" width: 100%; margin-left: 0;">
									<span class="input-group-addon" style="width: 80px; height: 40px; line-height: 25px;">查询条件</span>
									<input type="text" value="" style="border-color: #ccc; width: 207px; height:28px;font-size: 14px; border-top-left-radius: 0; border-bottom-left-radius: 0;"
									ng-model="vo.transferCode">
								</div>
								<div class="clearfix" style=" height: 33px; text-align: center; margin: 10px 0;">
									<span><input type="submit" value="查询" class="btn btn-success" style="height: 33px; padding: 0 50px; color: #fff;" 
											ng-click="searchFun();"/></span>
								</div>
							</div>
						</div>
					</div>
				</td>
				<td class="tabUl" style="vertical-align: top; padding: 10px; padding-left: 0; margin: 0; border: 0;">
					<ul class="nav nav-tabs navTab">
						<li class="active" style="line-height: 18px; font-size: 14px;">
							<a href="">行程线路分析</a>
						</li>
						<!-- <li class="floatRight">
							<div class="baobiaoSetCssOut">
								<div class="Icon-dayin">
									<div class="imgDis"><img src="../../img/1dayin.png"/></div>
									<div class="Icon-dayin-txt" style="height: 32px; line-height: 32px;">打印</div>
								</div>
								<div class="Icon-layer">
									<div class="Icon-itemList">
										<div class="imgDis"><img src="../../img/2yulan.png"/></div>
										<div class="Icon-dayin-txt" style="line-height: 40px;">预览</div>
									</div>
									<div class="Icon-itemList">
										<div class="imgDis"><img src="../../img/4xianshi.png"/></div>
										<div class="Icon-dayin-txt">报表设置</div>
									</div>
									<div class="Icon-itemList">
										<div class="imgDis"><img src="../../img/3daochu.png"/></div>
										<div class="Icon-dayin-txt">
											导出<br>XLS
										</div>
									</div>
									<div class="Icon-itemList">
										<div class="imgDis"><img src="../../img/3.1daochupdf.png"/></div>
										<div class="Icon-dayin-txt">
											导出<br>PDF
										</div>
									</div>
									<div class="Icon-itemList">
										<div class="imgDis"><img src="../../img/3.2daochutuxiang.png"/></div>
										<div class="Icon-dayin-txt">
											导出<br>JPG
										</div>
									</div>
									<div class="Icon-itemList">
										<div class="imgDis"><img src="../../img/1.1dayin_shezhi.png"/></div>
										<div class="Icon-dayin-txt">打印设置</div>
									</div>
									<div class="Icon-itemList">
										<div class="imgDis"><img src="../../img/3.1pageset.png"/></div>
										<div class="Icon-dayin-txt">纸张设置</div>
									</div>
								</div>
							</div>
						</li> -->
					</ul>
					<div class="t-tabContent" style="overflow: auto; height: 653px; padding: 0; margin: 0;">
						<div class="t-box" id="tab1" style="display: block; padding: 15px;" >
							<!-- 报表显示 -->
							<div class="xt_tabUlBottom" ng-show="true" >
								<div class="xt_childTable" style="padding-top: 0;">
									<div id="report_holder" style="height: 800px;margin-top: 10px" ></div>
								</div>
							</div>
						</div>
						<div class="t-box" id="tab2" style="display: none; padding: 15px;">2</div>
						<div class="t-box" id="tab3" style="display: none; padding: 15px;">3</div>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
</div>
<script type="text/javascript">

	$("#shrinkBtn").click(function() {
		$(".xt_changeHtml").toggleClass("enable");
		$(".xt_changeHtml").siblings().removeClass("enable");
	})
</script>
<script>
    $('.SelectMulti-ShowDiv').click(function () {
		$(this).parent().find('.droplistWrap').toggle()
	})
	$(document).on('click', function (ev) {
		if ($(ev.target).parents('.SelectMulti-Container').length) {return}
		$('.droplistWrap').hide()
	})
</script>



<script src="../../../views/report/samples/CreateControl.js" type="text/javascript"></script> 

<!-- 客户选择弹出框 -->
<div class="dialog" ng-if="showDialog" style="z-index:89">
	<div class="dialog-zdc" ></div>
	<div class="dg-xg-zh" style="z-index:999998; width:1100px; margin-left: -550px; top: 50%; margin-top:-267px;">
		<div class="dg-xg-js f14" style="width:1100px;">
			选择
			<div class="dg-cancle" ng-click="closeCustomerDialog()"></div>
		</div>
		<div class="dg-content floatLeft" style=" width:100%; margin-bottom:0;margin-top:10px;">
			<div class="tab-panel" style="overflow: hidden; height:auto">
				<div class="t-tabContent" style="overflow: hidden; height:auto; padding: 0; border: 0;">
					<div class="t-box3" id="tab1" style="display: block;">
						<div class="panel panel-default" style="width: 260px; margin-left: 10px; float: left;">
							<div class="panel-heading">客户类别</div>
							<table style="width: 100%;">
								<tbody>
									<tr>
										<td valign="top" style="width: 50%; padding: 0;">
											<div class="list-group-body2">
												
												<div class="list-group-item" style="border-radius: 0;" ng-repeat="x in customerList" ng-click="choseCustomerCategory(x,1)"
													ng-class="{true:'list-group-checked'}[x.cc_id == csCategoryChecked.cc_id]">
													<h5 class="list-group-item-heading floatLeft" style="margin: 0;">
														{{x.cc_name}}
													</h5>
												</div>
												
											</div>
										</td>
										<td valign="top" style=" padding: 0;">
											<div class="list-group-body2" style=" border-left: 1px solid #ddd; box-sizing: border-box;">
												<div class="list-group-item" style="border-radius: 0;" ng-repeat="x in customerSecondList" ng-click="choseCustomerCategory(x,2)"
												ng-class="{true:'list-group-checked'}[x.cc_id == childCsCategoryChecked.cc_id]">
													<h5 class="list-group-item-heading floatLeft" style="margin: 0;">
														{{x.cc_name}}
													</h5>
												</div> 
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
						
						<div class="panel panel-default" style="width: 806px; margin-left: 10px; float: left;">
							<div class="panel-heading f14">
								选择客户(可多选) 
							</div>
							<div class="panel-body" style="height: 455px; font-size: 12px; padding: 10px; box-sizing: border-box; overflow: hidden;">
								<div class="clearfix">
									<div class="floatLeft">
										<div class="input-group">
											<span class="input-group-addon" style="width: 80px;line-height: 18px;">查询条件</span>
											<span><input type="text" maxlength="10" name="search" placeholder="编号或名称" style="height: 21px; border-color: #ccc; border-radius: 0;" /></span>
											<span class="input-group-btn"><input type="submit" ng-click="doSearch()" value="查询" class="btn btn-success" style="height: 33px; color: #fff;" /></span>
										</div>
									</div>
									<div class="floatRight" style="text-align: right; margin-left: 8px;">
										<input type="submit" value="确定" ng-click="addCustomer()" class="btn btn-warning" style="height: 33px; color: #fff; padding: 0 15px;" />
									</div>
									<div class="floatRight colorRed2" style="font-size: 14px; font-weight: bold; text-align: right; line-height: 34px;">已选：{{num}}条</div>
								</div>
								<div class="clearfix" style="max-height: 290px; overflow: auto; overflow-x: hidden; margin-top: 10px">
									<table  class="table table2 table-striped table-hover table-bordered SortCss thHeight2">
							            <thead >
							                <tr class=" bgColor-tableTr tableMiddle zk_stockTitleTh">
							                	<th class="colorCenter noSortCss">
							                		<label class="zk_inputCheckbox">
														<input type="checkbox" id ="selectAll" class="zk_checkbox" ng-click="selectAll()">
														<div class="zk_checkboxImg"></div>
													</label>
							                	</th>
							                	<th class="noSortCss" >客户编号</th>	                	
							                    <th class="noSortCss" >客户类别名称</th>
							                    <th class="noSortCss" >客户名称</th>
							                    <th class="noSortCss" >联系人</th>
							                    <th class="noSortCss" style="width: 200px;">详细地址</th>
							                    <th class="noSortCss" >联系电话</th>
							                </tr>
							            </thead>
							            <tbody class="borBottom">
							                <tr ng-repeat="x in customerAllList">
							                	<td class="colorCenter">
							                		<label class="zk_inputCheckbox">
														<input type="checkbox"  class="zk_checkbox" ng-click="selectedNum()" name="csStatus" cc_id="{{x.cc_id}}" cc_name="{{x.cc_name}}" ng-checked=x.selectedCs>
														<div class="zk_checkboxImg"></div>
													</label>
							                	</td>
							                    <td class="colorLeft">{{x.cc_code}}</td>
							                    <td class="colorLeft">{{x.cc_categoryid_nameref}}</td>
							                    <td class="colorLeft">{{x.cc_name}}</td>
							                    <td class="colorCenter">{{x.cc_contacts_name}}</td>
							                    <td class="colorLeft">{{x.cc_address}}</td>
							                    <td class="colorCenter">{{x.cc_contacts_mobile}}</td>
							                </tr>
							                
							            </tbody>
							        </table>
								</div>
								<!-- 分页 -->
								<tm-pagination conf="pager" search-param="searchParam"></tm-pagination>
								<!--分页 -->
								<div class="clearfix f14">
									<ul>
										<li class="floatLeft">已选客户：</li>
										<li class="floatLeft ray" ng-repeat="x in arrCs1" ng-if="flag == 0"> {{x.cc_name}}&nbsp</li>
										<li class="floatLeft ray" ng-repeat="x in arrCs" ng-if="flag == 1"> {{x.cc_name}}&nbsp</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>		
		</div>
	</div>
</div>


