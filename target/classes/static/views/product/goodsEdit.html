<div class="contentHtml-new goods-main" style=" z-index: 99; background-color: #fff;left:0;">
	
	<div class="container-fluid" style="margin-top: 10px; box-sizing: border-box;" ng-init="tabIdx=1">
		 <div class="row">
			<div class="col-sm-12 page-header">
            	<span class="page_actions" style="padding-left: 0; margin-left: 0;">
					<a class="btn btn-success" ng-click="goList()"> 返回</a>
					<!-- <a class="btn btn-success" href="#/index/product/productGrouping"><i class="icon icon-folder-close"></i> 礼品分组管理</a> -->
				</span>
			</div>
		</div>
		<div class="row">
			<div class="col-sm-12">
				<ul class="nav nav-tabs" style="border: 0;">
					<li class="active">
						<a class="f14 i-c-black" ng-click="tabIdx=1">
							<i class="glyphicon glyphicon-edit"></i>
							 实物商品编辑
						</a>
					</li>
				</ul>
				<div class="t-box clearfix" id="tab1" ng-show="tabIdx==1">
					<form class="form-horizontal">
						<div class="panel panel-default" style="border-top-left-radius: 0; border-top-right-radius: 0;">
							<div class="panel-body">
								<h5>基本信息</h5>
								<hr />
								<!-- <div class="two-row-item">
									<label class="item-label control-label f14">礼品类型</label>
									<div class="item-name">
										<input type="text" class="form-control" value="实物礼品" disabled/>
									</div>
								</div>
								<div class="two-row-item">
									<label class="item-label control-label f14">
										<i class="form_required" title="必填">*</i>
										 编码
									</label>
									<div class="item-name">
										<input type="text" class="form-control" ng-model="vo.pm_code" />
									</div>
								</div> -->
								<div class="two-row-item">
									<label class="item-label control-label f14">
										<i class="form_required" title="必填">*</i>
										 商品名称
									</label>
									<div class="item-name">
										<input type="text" id="pm_title" maxlength="30" placeholder="长度<30,必填" class="form-control" ng-model="vo.pm_title" />
									</div>
								</div>
								<div class="two-row-item">
									<label class="item-label control-label f14">
										
										 商品副标题
									</label>
									<div class="item-name">
										<input type="text" id="pm_subtitle" maxlength="30" placeholder="长度<30" class="form-control" ng-model="vo.pm_subtitle" />
									</div>
								</div>
								<div class="two-row-item">
									<label class="item-label control-label f14">
										商品品牌
									</label>
									<div class="item-name">
										<div class="common_dropdown">
											<div data-toggle="dropdown">
												<span ng-show="vo.pm_brandid_nameref">{{vo.pm_brandid_nameref}}</span>
												<span ng-show="!vo.pm_brandid_nameref">请选择商品品牌</span>
												<i class="icon-sort-down device-i-down"></i>
											</div>
											<div class="dropdown-menu" role="menu">
												<div ng-repeat="x in brandList track by $index" ng-click="selectBrandFun(x)" style="padding-left:20px;text-align:left;border-bottom:1px solid #eee;">{{x.bd_title}}</div>
											</div>
										</div>
									</div>
								</div>
								<div class="two-row-item">
									<label class="item-label control-label f14">
										<i class="form_required" title="必填">*</i>
										 商品分类
									</label>
									<div class="item-name">
										<div class="common_dropdown">
											<div data-toggle="dropdown" ng-click="showCategory=true">
												<span ng-show="vo.pm_categoryid_nameref ">{{vo.pm_categoryid_nameref }}</span>
												<span ng-show="!vo.pm_categoryid_nameref">请选择商品分类</span>
												<i class="icon-sort-down device-i-down"></i>
											</div>
											<div class="zzc" ng-show="showCategory" ng-click="showCategory=!showCategory"></div>
											<div class="dropdown-menu" style="display:block;z-index:999999;" ng-show="showCategory">
												<ul class="ztree" id="categrayList"></ul>
											</div>
										</div>
									</div>
								</div>
								<div class="two-row-item">
									<label class="item-label control-label f14">
										 排序
									</label>
									<div class="item-name">
										<input type="text" id="pm_sort" ng-change="numberRegFun();" maxlength="9" placeholder="数字越大越靠前" class="form-control" ng-model="vo.pm_sort" />
									</div>
								</div>
								<div class="two-row-item">
									<label class="item-label control-label f14">
										<i class="form_required" title="必填">*</i>
										 计量单位
									</label>
									<div class="item-name">
										<div class="common_dropdown">
											<div data-toggle="dropdown">
												<span ng-show="unitVO.pur_unitid_min_nameref">{{unitVO.pur_unitid_min_nameref}}</span>
												<span ng-show="!unitVO.pur_unitid_min_nameref">单位</span>
												<i class="icon-sort-down device-i-down"></i>
											</div>
											<div class="dropdown-menu" role="menu">
												<div ng-repeat="x in unitList track by $index" ng-click="selectUnitFun(x)" style="padding-left:20px;text-align:left;border-bottom:1px solid #eee;">{{x.bu_name}}</div>
											</div>
										</div>
									</div>
								</div>
								<div class="two-row-item">
									<label class="item-label control-label f14">
										 搜索关键字
									</label>
									<div class="item-name">
										<input type="text" placeholder="长度<30,空格分隔" maxlength="30" class="form-control" ng-model="vo.pm_keys" />
									</div>
								</div>
								<div class="two-row-item">
									<label class="item-label control-label f14">
										 商品编码
									</label>
									<div class="item-name">
										<input type="text" placeholder="长度<20,空格分隔" maxlength="20" class="form-control" ng-model="vo.pm_code" />
									</div>
								</div>
								<div class="two-row-item" style="width: 100%;">
									<label class="item-label control-label f14" style="width:10%;">
										 视频地址
									</label>
									<div class="item-name">
										<!-- <input type="text" maxlength="255" class="form-control" ng-model="vo.pm_def1" /> -->
										<div class="widthAuto zk_controlInput">
											<a ng-click="upVideo($event,1,1)" style="color:#099fb8;" class="f14">上传视频</a>
											<a ng-click="clearVideo();" class="btnStyle Btncolor2 BtnHover2" style="margin-left:20px;">清除</a>
											<br> <span>{{vo.pm_def1_show}}</span>
											<div style="margin-bottom:1.25rem;width:794px; height:300px; display:inline-block;" id="myvideoeditor" get-ue="ue_myvideoeditor = getUe"
											 ng-show="false" class="ueditor" ng-model="gb_content2"></div>
						
										</div>
									</div>
								</div>
								<div class="two-row-item">
									<label class="item-label control-label f14">
										 视频封面
									</label>
									<div class="item-name">
										<!-- <input type="text" maxlength="255" class="form-control" ng-model="vo.pm_def2" /> -->
										<div class="widthAuto zk_controlInput">
											<a ng-click="upImage2($event,1,1)" style="color:#099fb8;" class="f14">上传图片（建议大小680*280，150kb以内）</a>
											<div style="margin-bottom:1.25rem;width:794px; height:300px; display:inline-block;" id="myeditor2" get-ue="ue_myeditor2 = getUe"
											 ng-show="false" class="ueditor" ng-model="gb_content3"></div>
											<div style="margin-top:5px;">
												<div style="float:left;margin:5px;">
													<div class="gsGoodsImgs" style="width:170px; height:70px;border:1px solid #ddd;">
														<img alt="" src="{{vo.pm_def2_show?vo.pm_def2_show:'/img/prizedef.jpg'}}" style="width:170px; height:70px;">
													</div>
						
												</div>
						
												<div class="clearfix"></div>
											</div>
										</div>
									</div>
								</div>
								
								<div class="two-row-item">
									<label class="item-label control-label f14">
										<i class="form_required" title="必填"></i>
										 上下架
									</label>
									<span class="radio f14 floatLeft" ng-if="vo.pm_state ==1" style="padding: 0;margin-top:8px;">
											<lable class="xt_inputRadio" >
												<input class="xt_radio" type="radio" value="1" ng-model="vo.pm_state" name="state">
												<div class="xt_inputBackimg"></div>上架
											</lable>
										</span>
										<span class="radio f14 floatLeft" ng-if="vo.pm_state ==2" style="padding: 0;margin-top:8px;margin-left:10px; ">
											<lable class="xt_inputRadio" >
												<input class="xt_radio"  type="radio" value="2" ng-model="vo.pm_state" name="state">
												<div class="xt_inputBackimg" ></div>下架
											</lable>
										</span>
								</div>
								<div class="two-row-item">
									<label class="item-label control-label f14">
										 是否是内部商品
									</label>
									<div class="item-name">
										<span class="radio f14 floatLeft" style="padding: 0;margin-top:8px; ">
											<lable class="xt_inputRadio" >
												<input class="xt_radio" type="radio" value="1" ng-model="vo.pm_isinternal" name="isinternal">
												<div class="xt_inputBackimg"></div>内部
											</lable>
										</span>
										<span class="radio f14 floatLeft" style="padding: 0;margin-top:8px;margin-left:10px; ">
											<lable class="xt_inputRadio" >
												<input class="xt_radio"  type="radio" value="2" ng-model="vo.pm_isinternal" name="isinternal">
												<div class="xt_inputBackimg" ></div>外部
											</lable>
										</span>
									</div>
								</div>
								<div class="two-row-item">
									<label class="item-label control-label f14">
										 配送方式
									</label>
									<div class="item-name">
										<span class="radio f14 floatLeft" style="padding: 0;" ng-repeat="x in deliveryList">
											<lable>
												<input type="checkbox" value="{{x.bd_code}}" name="delivery_type" ng-checked="vo.pm_delivery_type.indexOf(x.bd_code)>=0" ng-click="getCheckedIds();">
												{{x.bd_name}}
											</lable>
										</span>
									</div>
								</div>
								<div class="two-row-item" ng-show="vo.pm_delivery_type_show && vo.pm_typeid!=1010">
									<label class="item-label control-label f14">
										运费类型
									</label>
									<div class="item-name">
										<span class="radio f14 floatLeft" style="padding: 0;margin-top:8px; ">
											<lable class="xt_inputRadio" >
												<input class="xt_radio" type="radio" value="1" ng-model="vo.pm_delivery_fee_type" name="delivery_fee_type">
												<div class="xt_inputBackimg"></div>固定费用
											</lable>
										</span>
										<span class="radio f14 floatLeft" style="padding: 0;margin-top:8px;margin-left:10px; ">
											<lable class="xt_inputRadio" >
												<input class="xt_radio"  type="radio" value="2" ng-model="vo.pm_delivery_fee_type" name="delivery_fee_type">
												<div class="xt_inputBackimg" ></div>阶梯运费
											</lable>
										</span>
									</div>
								</div>
								<div class="two-row-item" ng-show="vo.pm_delivery_fee_type==1 && vo.pm_delivery_type_show && vo.pm_typeid!=1010">
									<label class="item-label control-label f14">
										 运费
									</label>
									<div class="item-name">
										<input type="text" maxlength="10" ng-blur="change2Num();" class="form-control" ng-model="vo.pm_def3" />
									</div>
								</div>
								<!-- 团购 start -->
								<div class="two-row-item">
									<label class="item-label control-label f14">
										 是否参加团购
									</label>
									<div class="item-name">
										<span class="radio f14 floatLeft" style="padding: 0;margin-top:8px; ">
											<lable class="xt_inputRadio" >
												<input class="xt_radio" type="radio" value="Y" ng-model="vo.pm_isgroup" name="group">
												<div class="xt_inputBackimg"></div>参加
											</lable>
										</span>
										<span class="radio f14 floatLeft" style="padding: 0;margin-top:8px;margin-left:10px; ">
											<lable class="xt_inputRadio" >
												<input class="xt_radio"  type="radio" value="N" ng-model="vo.pm_isgroup" name="group">
												<div class="xt_inputBackimg" ></div>不参加 
											</lable>
										</span>
									</div>
								</div>
								
								<div class="two-row-item" ng-if="vo.pm_isgroup=='Y'">
									<label class="item-label control-label f14">
										 有效天数
									</label>
									<div class="item-name">
										<input type="text"  maxlength="5" class="form-control" ng-model="vo.pm_valid_day" />
									</div>
								</div>
								<div class="two-row-item" ng-if="vo.pm_isgroup=='Y'">
									<label class="item-label control-label f14">
										 团购价格
									</label>
									<div class="item-name">
										<input type="number" maxlength="6" step="0.01" min="0"  class="form-control" ng-model="vo.pm_group_price" />
									</div>
								</div>
								<div class="two-row-item" ng-if="vo.pm_isgroup=='Y'">
									<label class="item-label control-label f14">
										开团人数
									</label>
									<div class="item-name">
										<input type="text" maxlength="5" class="form-control" ng-model="vo.pm_group_peopler_num" />
									</div>
								</div>
								<!-- 团购 end -->
								<!-- 奖励比例 -->
								<!-- <div class="two-row-item" >
									<label class="item-label control-label f14">
										奖励比例
									</label>
									<div class="item-name">
										<input type="text" style="width:70px;"  maxlength="10" ng-blur="change2Num2();" ng-model="vo.pm_rebate_ratio" /><span style="font-weight: bold;margin-left:3px;">%</span>
									</div>
								</div> -->
								<div class="two-row-item">
									<label class="item-label control-label f14">
										 支付方式
									</label>
									<div class="item-name">
										<span class="radio f14 floatLeft" style="padding: 0; margin-right: 10px;" ng-repeat="x in payMethodList">
											<lable  >
												<input type="checkbox" value="{{x.bd_code}}" name="payMethod" ng-checked="vo.payMethodArr.indexOf(x.bd_code)>-1;" ng-click="getPayMethodCheckedIds();">
												{{x.bd_name}}
											</lable>
										</span>
									
									</div>
								</div>
								<div class="two-row-item">
									<label class="item-label control-label f14">
										 支付类型
									</label>
									<div class="item-name">
										<span class="radio f14 floatLeft" style="padding: 0; margin-right: 10px;" ng-repeat="x in payWayList">
											<lable  >
												<input type="checkbox" value="{{x.bd_code}}" name="payWay" ng-checked="vo.payWayArr.indexOf(x.bd_code)>-1;" ng-click="getPayWayCheckedIds();">
												{{x.bd_name}}
											</lable>
										</span>
									</div>
								</div>
								<div class="two-row-item">
									<label class="item-label control-label f14">
										 关联的产品
									</label>
									<div class="item-name">
										<input type="text" disabled  maxlength="20" class="form-control" ng-model="vo.pm_relationid_nameref" />
									</div>
								</div>
								<!--商品规格 -->
								<div class="clearfix" ng-show="false"></div>   
								<h5 class="section-header" ng-show="false">商品规格</h5>
								<hr ng-show="false" />
								<div class="clearfix" ng-show="false" style="box-sizing: border-box;padding: 0 10px;">
									<table class="common_table_1 table-bordered table-hover">
										<thead>
											<th style="width:10%"></th>
											<th style="width:10%">主图</th>
											<th style="width:20%">规格</th>
											<th style="width:30%">商品编码</th>
											<th style="width:30%">条形码</th>
										</thead>
										<tbody>
											<tr ng-repeat="x in skuList track by $index">
												<td style="width:10%">{{$index+1}}</td>
												<td style="width:10%">
													<div class="tab-plus" ng-click="upImage($event,2,$index)" ng-show="!x.ps_image">+</div>
													<div class="plus-wrap" ng-show="x.ps_image" ng-click="upImage($event,2,$index)">
														<img src="{{x.ps_image_show}}">
														<div class="plus-change">修改</div>
													</div>
												</td>
												<td style="width:20%">无</td>
												<td style="width:30%">
													<input type="text" placeholder="请输入商品编码" ng-model="x.ps_code" style="width: 80%;">
												</td>
												<td style="width:30%">
													<input type="text" placeholder="请输入条形码"  ng-model="x.ps_barcode" style="width: 80%;">
												</td>
											</tr>
										</tbody>
									</table>
								</div> 
								<!-- 图片 -->
								<div class="clearfix"></div>   
								<h5 class="section-header">图片</h5>
								<hr />
								<div class="two-row-item" style="width:100%">
									<label class="item-label control-label f14" style="padding-top: 0;width:10%;"></label>
									<div class="item-name">
										<a ng-click="upImage($event,1)" style="color:#099fb8;" class="f14">上传图片</a>
										<div  style="margin-bottom:1.25rem;width:794px; height:300px; display:inline-block;" id="myeditor" 
										get-ue="ue_myeditor = getUe" ng-show="false" class="ueditor" ng-model="gb_content1"></div>
										<div style="margin-top:5px;">
											<div style="float:left;margin:5px;" ng-repeat="x in picList track by $index"  ng-mouseenter="showTips($index)" ng-mouseleave="hideTips($index)">
												<div  class="js_setCover{{$index}}" ng-show="x.pp_ismain==0" style="z-index:4;display:none;position: absolute;background: #eee;width: 102px;height: 22px;top: 30px;text-align:center;" ng-click="del($index)">删除</div>
												<div class="gsGoodsImgs" style="width:100px; height:100px;border:1px solid #ddd;">
													<img alt="" src="{{x.pp_path_show?x.pp_path_show:'img/prizedef.jpg'}}"  style="width:100px; height:100px;">												
												</div>
												<div ng-show="x.pp_ismain==1" style="position: absolute;background: #eee;width: 102px;height: 22px;top: 110px;text-align:center;" >封面</div>
												<div  class="js_setCover{{$index}}" ng-show="x.pp_ismain==0" style="display:none;position: absolute;background: #eee;width: 102px;height: 22px;top: 110px;text-align:center;" ng-click="setCover(x)">设置为封面</div>
											</div>
											<!-- <div style="float:left;margin:5px;">
												<div class="gsGoodsImgs" style="width:100px; height:100px;border:1px solid #ddd;">
													<img alt="" src="{{vo.pm_picture_show?vo.pm_picture_show:'img/prizedef.jpg'}}"  style="width:100px; height:100px;">
												</div>
											</div> -->
											<div class="clearfix"></div>
										</div>
									</div>
								</div> 
								<!-- 图文详情 -->
								<div class="clearfix"></div>   
								<h5 class="section-header">图文详情</h5>
								<hr />
								<div class="two-row-item">
									<label class="item-label control-label f14" style="padding-top: 0;"></label>
									<div class="col-lg-6" style="padding-left: 0;">
										<div  style="margin-bottom:1.25rem;width:664px;height: 300px; display:inline-block; z-index:1" id="myeditor1" 
												get-ue="ue_myeditor1 = getUe"  class="ueditor" ng-model="pi_content" ></div>
									</div>
								</div>  
								<!--价格设置 -->
								<div class="clearfix"></div>   
								<h5>价格设置</h5>
								<hr /> 
								<div class="two-row-item">
									<label class="item-label control-label f14">
										<i class="form_required" title="必填">*</i>
										 市场价
									</label>
									<div class="item-name">
										<input type="text" class="form-control"  ng-model="vo.pm_market_price" />
									</div>
								</div>
								<div class="two-row-item">
									<label class="item-label control-label f14">
										<i class="form_required" title="必填">*</i>
										 参考成本价
									</label>
									<div class="item-name">
										<input type="text" class="form-control" ng-model="vo.pm_price" />
									</div>
								</div>
								
								<div class="clearfix" ></div>   
								<div class="clearfix"  style="box-sizing: border-box;padding: 0 10px;">
									<div class="common_table_1_title">购买规则</div>
									<table class="common_table_1 table-bordered table-hover">
										<thead>

											<th style="width:20%">销售价</th>
											<th style="width:20%">起订量</th>
											<th style="width:20%">增量</th>
											<th style="width:20%">限定量</th>
										</thead>
										<tbody>
											<tr ng-repeat="x in priceList track by $index">
												
												<td style="width:20%">
													<!-- {{x.psp_price}} -->
													<input type="text" ng-model="x.psp_price" ng-blur="checkPrice(x)" maxlength="10" style="width: 80%;">
												</td>
												<td style="width:20%">
													<input type="text" ng-model="x.psp_min_num" maxlength="10" style="width: 80%;">
												</td>
												<td style="width:20%">
													<input type="text" ng-model="x.psp_add_num" maxlength="10" style="width: 80%;">
												</td>
												<td style="width:20%">
													<input type="text" ng-model="x.psp_max_num" maxlength="10" style="width: 80%;">
												</td>
											</tr>
										</tbody>
									</table>
								</div> 
							
								<hr />
								<a  class="btn btn-success" style="margin-left:30%" ng-click="addProduct();">保存</a>
								<a  class="btn btn-default" style="margin-left:10%" ng-click="goList();">返回</a>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>		
	</div>
</div>
<style>
.goods-main .two-row-item .item-label{width:20%}
.zzc{position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #000;
    opacity: 0.5;
    z-index:999;
    }
</style>